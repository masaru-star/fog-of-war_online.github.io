<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>戦争の霧 - Online</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="onlineMenu">
    <h1>戦争の霧 Online</h1>
    <div class="menu-box" id="lobby">
        <input type="text" id="playerName" placeholder="あなたの名前" style="width:100%; margin-bottom:10px;">
        <button onclick="createRoom()">部屋作成</button>
        <div style="margin:10px 0; color:#aaa;">- OR -</div>
        <input type="text" id="roomIdInput" placeholder="部屋ID (例: 123AB)" style="width:100%; margin-bottom:10px;">
        <button onclick="joinRoom()">入室</button>
    </div>
    <div class="menu-box hidden" id="waitingRoom">
        <h2 id="roomDisplay">Room: ---</h2>
        <p>待機中...</p>
        <button id="startGameBtn" onclick="startGame()" class="hidden">ゲーム開始</button>
        <p class="small">全員が揃ったら開始してください</p>
    </div>
</div>

<div class="wrap hidden" id="gameContainer">
  <canvas id="map" width="1000" height="720"></canvas>
  <div class="sidebar">
    <div>
      <div class="small" id="countryLabel"></div>
      <div class="small">ターン: <span id="turnDisplay">1</span></div>
      <h3 class="small" style="margin-top:12px">資源</h3>
      <div class="resources" id="resources"></div>
      <div class="controls">
        <button id="endTurnBtn" onclick="sendEndTurn()">ターン終了</button>
        <div class="controls">
    <button id="endTurnBtn" onclick="sendEndTurn()">ターン終了</button>
    
    <div style="margin-top:15px;">
        <button onclick="resetViewport()">◎ 初期地点へ</button>
        <span class="small">←矢印キーでスクロール</span>
    </div>
    <div id="mapControls" style="margin-top:10px; text-align:center; display: grid; grid-template-columns: repeat(3, 1fr); max-width: 120px; margin-left: auto; margin-right: auto;">
        <button style="grid-column: 2;" onclick="scrollMap(0, -1)">▲</button>
        <button style="grid-column: 1;" onclick="scrollMap(-1, 0)">◀</button>
        <button style="grid-column: 3;" onclick="scrollMap(1, 0)">▶</button>
        <button style="grid-column: 2;" onclick="scrollMap(0, 1)">▼</button>
    </div>
    <div style="margin-top:8px">
        </div></div>
        <div style="margin-top:8px">
          <div class="small">選択: <span id="selInfo">なし</span></div>
          <div id="actionPanel" style="display:none; margin-top:5px;">
             <button id="moveModeBtn">移動</button>
             <div id="prodPanel" style="margin-top:5px;">
                 <select id="prodType">
                     <option value="inf">歩兵 (F:50 M:10 Fd:20)</option>
                     <option value="arty">砲兵 (F:90 M:18 St:24)</option>
                     <option value="tank">戦車 (F:150 M:20 Oil:30)</option>
                 </select>
                 <button onclick="doProduce()">生産</button>
             </div>
          </div>
        </div>
      </div>
      <div class="log" id="log"></div>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
